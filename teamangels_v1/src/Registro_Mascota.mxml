<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" 
			   minWidth="1024" minHeight="768" xmlns:Formularios="Formularios.*" creationComplete="application1_creationCompleteHandler(event)">
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			import mx.events.ValidationResultEvent;
			
			import valueObjects.Mascotas;
			[Bindable] private  var Fecha:Date = new Date();
			
			//SE DESACTIVA Y NO SE VISUALIZA LOS SIGUIENTES COMPONENTE AL INICIALIZAR
			protected function application1_creationCompleteHandler(event:FlexEvent):void
			{

				Rbtn_Documento.enabled=false;
				Rbtn_Documento.visible=false;
				Rbtn_Mascota.enabled=false;
				Rbtn_Mascota.visible=false;
				Rbtn_Propietario.enabled=false;
				Rbtn_Propietario.visible=false;
				Btn_Buscar_Documento.enabled=false;
				Btn_Buscar_Documento.visible=false;
				Btn_Buscar_Propietario.enabled=false;
				Btn_Buscar_Propietario.visible=false;
				Btn_Buscar_Mascota.enabled=false;
				Btn_Buscar_Mascota.visible=false;
				Txt_Buscar_Documento.enabled=false;
				Txt_Buscar_Documento.visible=false;
				Txt_Buscar_Propietario.enabled=false;
				Txt_Buscar_Propietario.visible=false;
				Txt_Buscar_Mascota.enabled=false;
				Txt_Buscar_Mascota.visible=false;
				Lst_Buscar_Documento.enabled=false;
				Lst_Buscar_Documento.visible=false;
				Lst_Buscar_Propietario.enabled=false;
				Lst_Buscar_Propietario.visible=false;
				Lst_Buscar_Mascota.enabled=false;
				Lst_Buscar_Mascota.visible=false;
				
			}
			
			//SE ACTIVAN Y SE VISUALIZAN LOS SIGUIENTES COMPONENTES AL DAR CLICK EN BUSCAR
			protected function Btn_Buscar_clickHandler(event:MouseEvent):void
			{
				
				Rbtn_Documento.enabled=true;
				Rbtn_Documento.visible=true;
				Rbtn_Mascota.enabled=true;
				Rbtn_Mascota.visible=true;
				Rbtn_Propietario.enabled=true;
				Rbtn_Propietario.visible=true;
			}
			
			//SE ACTIVAN Y DESACTIVAN LOS SIGUIENTES COMPONENTES DEPENDIENDO DEL ALUE QUE ESCOJAN
			protected function Buscar_changeHandler(event:Event):void
			{
				if(Buscar.selectedValue == "Doc"){
					
					Btn_Buscar_Documento.enabled=true;
					Btn_Buscar_Documento.visible=true;
					Txt_Buscar_Documento.enabled=true;
					Txt_Buscar_Documento.visible=true;
					Lst_Buscar_Documento.enabled=true;
					Lst_Buscar_Documento.visible=true;
					Lst_Buscar_Propietario.enabled=true;
					Lst_Buscar_Propietario.visible=true;
					Lst_Buscar_Mascota.enabled=true;
					Lst_Buscar_Mascota.visible=true;
					
				}else{
					
					
					Btn_Buscar_Documento.enabled=false;
					Btn_Buscar_Documento.visible=false;
					Txt_Buscar_Documento.enabled=false;
					Txt_Buscar_Documento.visible=false;
					
				}
			
				if(Buscar.selectedValue =="Pro"){
					
					Btn_Buscar_Propietario.enabled=true;
					Btn_Buscar_Propietario.visible=true;
					Txt_Buscar_Propietario.enabled=true;
					Txt_Buscar_Propietario.visible=true;
					Lst_Buscar_Documento.enabled=true;
					Lst_Buscar_Documento.visible=true;
					Lst_Buscar_Propietario.enabled=true;
					Lst_Buscar_Propietario.visible=true;
					Lst_Buscar_Mascota.enabled=true;
					Lst_Buscar_Mascota.visible=true;
					
					
				}else{
					
					Btn_Buscar_Propietario.enabled=false;
					Btn_Buscar_Propietario.visible=false;
					Txt_Buscar_Propietario.enabled=false;
					Txt_Buscar_Propietario.visible=false;
				
				}
				
				
				if(Buscar.selectedValue =="Mas"){
					
					Btn_Buscar_Mascota.enabled=true;
					Btn_Buscar_Mascota.visible=true;
					Txt_Buscar_Mascota.enabled=true;
					Txt_Buscar_Mascota.visible=true;
					Lst_Buscar_Documento.enabled=true;
					Lst_Buscar_Documento.visible=true;
					Lst_Buscar_Propietario.enabled=true;
					Lst_Buscar_Propietario.visible=true;
					Lst_Buscar_Mascota.enabled=true;
					Lst_Buscar_Mascota.visible=true;
					
				}else{
					Btn_Buscar_Mascota.enabled=false;
					Btn_Buscar_Mascota.visible=false;
					Txt_Buscar_Mascota.enabled=false;
					Txt_Buscar_Mascota.visible=false;
					
				}
			}
			
			
			
			
			//FUNCION DE GUARDADO DE LOS REGISTROS
			protected function Btn_Guardar_clickHandler(event:MouseEvent):void
			{
				
				var Reg:Mascotas = new Mascotas();
				
			    Reg.Documento_Propietario = "";
				Reg.Propietario="";
				Reg.Nombre_Mascota = Data_Model_Mascotas.Nombre_Mascota;
				Reg.Id_Chif = Data_Model_Mascotas.Id_Chif;
				Reg.Id_Especie = Data_Model_Mascotas.Id_Especie;
				Reg.Especie = Data_Model_Mascotas.Especie;
				Reg.Id_Raza = Data_Model_Mascotas.Id_Raza;
				Reg.Raza =  Data_Model_Mascotas.Raza;
				Reg.Pelaje = Data_Model_Mascotas.Pelaje;
				Reg.Color = Data_Model_Mascotas.Color;
				Reg.Tamano = Data_Model_Mascotas.Tamano;
				Reg.Genero = Data_Model_Mascotas.Genero;
				Reg.Peso = Data_Model_Mascotas.Peso;
				Reg.Estado_Reproductivo = Data_Model_Mascotas.Estado_Reproductivo;
				Reg.Temperamento = Data_Model_Mascotas.Temperamento;
				Reg.Fecha_Nacimiento = Data_Model_Mascotas.Fecha_Nacimiento;
				Reg.Edad_Dias = Data_Model_Mascotas.Edad_Dias;	
				Reg.Edad_Meses = Data_Model_Mascotas.Edad_Meses;
				Reg.Edad_Anos = Data_Model_Mascotas.Edad_Anos;
				Reg.Tipo_Alimentacion = Data_Model_Mascotas.Tipo_Alimentacion;
				Reg.Marca = Data_Model_Mascotas.Marca;
				Reg.Descripcion_Marca = Data_Model_Mascotas.Descripcion_Marca;
				Reg.Referencia = Data_Model_Mascotas.Referencia;
				Reg.Descripcion_Referencia = Data_Model_Mascotas.Descripcion_Referencia;
				Reg.Senales_Particulares = Data_Model_Mascotas.Senales_Particulares;
				Reg.Observaciones = Data_Model_Mascotas.Observaciones;
				Reg.Fecha = Fecha;
				Reg.Usuario = "laura"
				
				
				
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<s:RadioButtonGroup id="Buscar" change="Buscar_changeHandler(event)"/>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
		
		<fx:Model  id="Data_Model_Mascotas">
			<Data>
				<Id>{}</Id>	
				<Nombre_Mascota>{registro_mascota.Txt_Nombre_Mascota.text}</Nombre_Mascota>
				<Id_Chif>{registro_mascota.Txt_Id_Chip.text}</Id_Chif>
				<Id_Especie>{registro_mascota.Ddl_Especie.selectedItem.Id_Especie}</Id_Especie>
				<Especie>{registro_mascota.Ddl_Especie.selectedItem.Especie}</Especie>
				<Id_Raza>{registro_mascota.Ddl_Raza.selectedItem.Id_Raza}</Id_Raza>
				<Raza>{registro_mascota.Ddl_Raza.selectedItem.Raza}</Raza>
				<Pelaje>{registro_mascota.Ddl_Pelaje.selectedItem}</Pelaje>
				<Color>{registro_mascota.Txt_Color.text}</Color>
				<Tamano>{registro_mascota.Ddl_Tamano.selectedItem}</Tamano>
				<Genero>{registro_mascota.Ddl_Genero.selectedItem}</Genero>
				<Peso>{registro_mascota.Txt_Peso.text}</Peso>
				<Estado_Reproductivo>{registro_mascota.Ddl_Estado_Reproductivo.selectedItem}</Estado_Reproductivo>
				<Temperamento>{registro_mascota.Ddl_Temperamento.selectedItem}</Temperamento>
				<Edad_Dias>{registro_mascota.Txt_Edad_Dias.text}</Edad_Dias>
				<Edad_Meses>{registro_mascota.Txt_Edad_Meses.text}</Edad_Meses>
				<Edad_Anos>{registro_mascota.Edad_Anos.text}</Edad_Anos>
				<Tipo_Alimentacion>{registro_mascota.Ddl_Tipo_Alimentacion.selectedItem}</Tipo_Alimentacion>
				<Marca>{registro_mascota.Ddl_Marca.selectedItem}</Marca>
				<Descripcion_Marca>{registro_mascota.Txt_Descripcion_Marca.text}</Descripcion_Marca>
				<Referencia>{registro_mascota.Ddl_Referencia.selectedItem}</Referencia>
				<Descripcion_Referencia>{registro_mascota.Txt_Descripcion_Referencia.text}</Descripcion_Referencia>
				<Senales_Particulares>{registro_mascota.Txta_Senales_Particulares.text}</Senales_Particulares>
				<Observaciones>{registro_mascota.Txta_Observaciones.text}</Observaciones>
				<Fecha_Nacimiento>{registro_mascota.Ddl_Dia.selectedItem}-{registro_mascota.Ddl_Mes.selectedItem}-{registro_mascota.Txt_Ano.text}</Fecha_Nacimiento>
			</Data>			
		</fx:Model>	
		
		
		
	</fx:Declarations>
	
	
	<s:BorderContainer  width="90%" height="100%">
		
		
		<s:DataGrid id="dataGrid" x="80" y="763" width="1403" height="109">
			<s:columns>
				<s:ArrayList>
					<!--<s:GridColumn dataField="Id_Servicio" headerText="Id_Servicio"></s:GridColumn>-->
					<s:GridColumn  width="260" dataField="Propietario" headerText="Propietario"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Mascota" headerText="Mascota"></s:GridColumn>
					<s:GridColumn  width="260"   dataField="Id_Chip" headerText="Id Chip"></s:GridColumn>
					
					<s:GridColumn  width="260" dataField="Especie" headerText="Especie"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Raza" headerText="Raza"></s:GridColumn>
					<s:GridColumn  width="260"  dataField="Pelaje" headerText="Pelaje"></s:GridColumn>
					
					<s:GridColumn  width="260" dataField="Color" headerText="Color"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Tama単o" headerText="Tama単o"></s:GridColumn>
					<s:GridColumn  width="260"  dataField="Genero" headerText="Genero"></s:GridColumn>
					
					<s:GridColumn  width="260" dataField="Peso" headerText="Peso"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Estado_Reproductivo" headerText="Estado Reproductivo"></s:GridColumn>
					<s:GridColumn  width="260"  dataField="Fecha_Nacimiento" headerText="Fecha Nacimiento"></s:GridColumn>
					<s:GridColumn  width="260"  dataField="Edad" headerText="Edad"></s:GridColumn>
				
					<s:GridColumn  width="260" dataField="Tipo_Alimentacion" headerText="Tipo Alimentacion"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Marca" headerText="Marca"></s:GridColumn>
					<s:GridColumn  width="260" dataField="Descripcion_Marca" headerText="Descripcion Marca"></s:GridColumn>
					<s:GridColumn  width="260" dataField="Referencia" headerText="Referencia"></s:GridColumn>
					
					<s:GridColumn  width="260" dataField="Descripcion_Referencia" headerText="Descripcion Referencia"></s:GridColumn>
					<s:GridColumn  width="400" dataField="Se単ales_Particulares" headerText="Se単ales Particulares"></s:GridColumn>
					<s:GridColumn  width="260" dataField="Observaciones" headerText="Observaciones">
					</s:GridColumn>
				</s:ArrayList>
			</s:columns>
			<s:typicalItem>
				
			</s:typicalItem>
			
		</s:DataGrid>
		<s:Form x="45" y="60" width="50%" height="100%">
			<Formularios:Registro_Mascota id="registro_mascota">		
			</Formularios:Registro_Mascota>
			
			
		</s:Form>
		<s:List id="Lst_Buscar_Propietario" x="1243" y="124" width="249" height="605"></s:List>
		<s:List id="Lst_Buscar_Documento" x="1099" y="123" width="142" height="606"></s:List>
		<s:Button id="Btn_Buscar_Documento" x="1099" y="94" label="Buscar"/>
		<s:Button id="Btn_Buscar_Propietario" x="1099" y="94" label="Buscar"/>
		<s:Button id="Btn_Buscar_Mascota" x="1099" y="94" label="Buscar"/>
		
		<s:HGroup x="80" y="15" width="200" height="25">
			<s:Button id="Btn_Guardar" label="Guardar" click="Btn_Guardar_clickHandler(event)"/>
			<s:Button id="Btn_Editar" label="Editar"/>
			<s:Button id="Btn_Buscar" label="Buscar" click="Btn_Buscar_clickHandler(event)"/>
		</s:HGroup>
		
		
	</s:BorderContainer>
	<s:List id="Lst_Buscar_Mascota" x="1495" y="125" width="142" height="606"></s:List>

	<s:HGroup x="1102" y="53" width="338" height="20">
		<s:RadioButton id="Rbtn_Documento" label="Documento" groupName="Buscar" value="Doc"/>
		<s:RadioButton id="Rbtn_Propietario" label="Propietario" groupName="Buscar" value="Pro"/>
		<s:RadioButton id="Rbtn_Mascota" x="1290" y="53" label="Mascota" groupName="Buscar" value="Mas"/>
	</s:HGroup>
	<s:TextInput id="Txt_Buscar_Documento" x="1172" y="95" width="465" prompt="DOCUMENTO"/>
	<s:TextInput id="Txt_Buscar_Propietario" x="1172" y="95" width="465" prompt="PROPIETARIO"/>
	
	<s:TextInput id="Txt_Buscar_Mascota" x="1172" y="95" width="465" prompt="MASCOTA"/>
</s:Application>
